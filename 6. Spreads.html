<?xml version="1.0" encoding="UTF-16"?>
<html>
<head>
<title>Annotations</title>
<script>
		document.createElement('node');
		document.createElement('pin');
		document.createElement('key');
		document.createElement('concept');
	
		document.createElement('lmb');
		document.createElement('rmb');
		document.createElement('mmb');
		document.createElement('scroll');
		
		document.createElement('click');
		document.createElement('click2');
		document.createElement('hold');
		document.createElement('release');
	</script>
<link rel="stylesheet" type="text/css" href="html_resources/style.css" />
</head>
<body>
<img src="C:\kimchiandchips\Workshops\VVVV.Tutorials.Fundamentals\6. Spreads.png" />
<h2>0 - Spreads</h2>
<p>  <concept>Spreads</concept> are a fundamental tool in VVVV. They are the gift that keeps on giving (metephorically, and quite literally).  </p><p>    (Note for programmers: It's similar to an <b>Array</b> in normal programming speak, but also very different).  </p><p>    <ul>  <li>A spread is a set of data.</li>  <li>An individual item within a Spread is called a <concept>Slice</concept></li>  <li>The number of Slices in a Spread is called the <concept>Spread Count</concept> or the <concept>Slice Count</concept></li>  <li>Each Slice has a position within the Spread called a <concept>Slice Index</concept></li>  <li>The first Slice in the Spread has Slice Index of <b>0</b>.</li>  <li>If you try to access a slice index outside of the range (e.g. >= spread count or <0) then the spread 'loops'.</li>  <li>A Spread of Spread Count <b>0</b> is a special case called an <concept>Empty Spread</concept>  </ul>  </p><p>    <b>An example</b></p><p>    A fish and chip shop menu has 10 items, each with a price and a description. The first item on the list is "Battered cod" with a price of 2pounds 50pence. The last item on the list is "Kimchi" at 4 pounds. Therefore we could say the following:  </p><p>  <ul>  <li>There are a spread of Values (price) and a spread of Strings (description)</li>  <li>Both spreads have slice count of 10.</li>  <li>At slice index 0 in the Value spread we have <b>2.5</b></li>  <li>At slice index 0 in the spread of Strings we have <b>Battered cod</b></li>  <li>At slice index 9 in the spread of Strings we have <b>Kimchi</b></li>  <li>At slice index 10 in the spread of Strings we have <b>Battered cod</b> (we've looped here back to the beginning of the spread)</li>  <li>At slice index -1 in the spread of Strings we have <b>Kimchi</b>   (we've looped here back to the end of the spread)</li>  </ul></p>
<h2>1 - GetSlice</h2>
<p>  A <node>GetSlice (Spreads)</node> node picks 1 or more slices out of a spread.  </p><p>    Let's create a <node>GetSlice (Spreads)</node> now, and attach a <b>4D Vector</b> <node>IOBox</node> to its <pin>Input</pin> and a simple <node>IOBox</node> to its <pin>Output</pin>. <img src="html_resources/click.png"/><img src="html_resources/mmb.png"/> on the bottom IOBox to give it a name.  </p><p>    For readability. Let's go into the <node>Inspektor</node> and change some properties for both <node>IOBox</node>'s. Set <pin>Value Type</pin> to <b>Integer</b> and <pin>Size</pin> to <b>14</b>. Also turn on <pin>Show Grid</pin> and <pin>Show SliceIndex</pin>.  </p><p>    Also let's add an <node>IOBox</node> on the <pin>Index</pin> input of <node>GetSlice</node> using our middle button trick <img src="html_resources/click.png"/><img src="html_resources/mmb.png"/>. (first click <img src="html_resources/click.png"/><img src="html_resources/lmb.png"/>on the pin to start a connection and then <img src="html_resources/click.png"/><img src="html_resources/mmb.png"/> to make an <node>IOBox</node> from the connection.  </p><p>    Add a <node>I (Spreads)</node> to the top and connect the output to the input of the 4D vector. Set the input pin <pin>To</pin> on <node>I</node> to <b>4</b>. This node now outputs a spread of <b>0, 1, 2, 3</b> i.e. values <pin>From</pin> <b>0</b> <pin>To</pin> <b>4</b>.  </p><p>    Now try changing the <b>Index</b> to see which slice is selected by the <node>GetSlice</node> node.</p>
<h2>2 - Always repeating</h2>
<p>  So we've seen how the data in a spread is repeated to satisfy the slice which is being asked for. This is even the case when we have 1 value.  </p><p>    We can test this with a <node>GetSlice</node> with a simple <node>IOBox (Value)</node> input.  </p><p>    When we run it through a <node>GetSlice</node> and roll the <pin>Index</pin> pin different slices, we get the same value.  </p><p>    Important note: <concept>Every Value, String, Colour, Enum, etc in VVVV is stored as a Spread, and therefore repeats like a Spread.</concept>  </p><p></p>
<h2>3 - A visual spread experiment</h2>
<p>  So let's try and visualise what happens with spreads.  </p><p>    We're going to setup a simple graphical patch to use in a number of experiments. This patch will help us to visualise some spread mechanics, but also introduces a few graphical concepts as well.  </p><p>    Follow these steps:  </p><p>    <ol>  <li>First create a <node>Quad</node> and a <node>Renderer</node> and connect them up. You should get the familiar white square in a black box.</li>  <li>Now lets make a new node called <node>FileTexture</node> above <node>Quad</node>. Connect the <pin>Texture Out</pin> output of <node>FileTexture</node> to the <node>Texture</node> input of Quad.  </p><p>  The <node>FileTexture</node> node loads in an image file, and creates a <concept>Texture</concept> which you can apply to your graphical objects.  </p><p>  Textures are stored on the graphics card, and can be used in all sorts of ways to manipulate your objects with image data (e.g. image maps, height maps, bump maps, etc).  </li>    <li><img src="html_resources/rmb.png"/><img src="html_resources/click.png"/> on the <pin>Filename</pin> input of <node>FileTexture</node> and select an image from your own computer. You should now see that image applied to the quad.</li>    <li>Now let's load a specific texture. We go to the VVVV folder where you have it installed. We go to the 'girlpower' folder. Then we go to the 'images' folder (vvvv/girlpower/images). Now select the file "ring thin.bmp". We should now be drawing a circle to the screen. If the <node>Renderer</node> is square, the circle will be square. But if the <node>Renderer</node> is squashed, so will the circle be.</li>    <li>To straighten the circle, we need to counteract the <concept>Aspect Ratio</concept>of the <node>Renderer</node>. We do this with some simple maths. Create a <node>/ (Value)</node> node (this node divides numers. i.e. 4/2 = 2).  </p><p>  Attach the 2 inputs of the <node>/</node> to the <pin>Width</pin> and <pin>Height</pin> output pins of the <node>Renderer</node> respectively. Create an <node>IOBox</node> and attach it to the <node>IOBox</node>'s output to visualise the output. This number represents the aspect ratio. Go into <node>Inspektor</node> and set the <pin>Descriptive Name</pin> of the IOBox to <b>Aspect Ratio</b>  </p><p>  Now add a <node>Scale (Transform)</node> (not vector version!) above your <node>Quad</node>. Connect to your <node>Quad</node>'s <pin>Transform</pin> pin. Connect the output of your <b>Aspect Ratio</b> to the <pin>Y</pin> input of <node>Scale</node>. The aspect ratio should now be fixed for your quad, regardless of the <node>Renderer</node>'s aspect ratio.  </p><p>  Because you now have a link going upwards in the graph, it looks a little messy. Feel free to select it and tidy it up using either <key>Ctrl</key>+<key>Y</key> to curve it, and/or <key>Ctrl</key>+<key>H</key> to 'hide' it.  </li>    <li>  Scale down the quad using a <node>UniformScale (Transform)</node> node. Attach this to the input of your <node>Scale</node> node and reduce the <pin>XYZ</pin> input to <b>0.1</b>. Remember you can edit the value both by <img src="html_resources/click.png"/><img src="html_resources/rmb.png"/> on the pin and then typing a <key>0</key><key>.</key><key>1</key><key>Enter</key>, or <img src="html_resources/hold.png"/><img src="html_resources/rmb.png"/> on the pin and move the mouse up/down.    <li>Create a <node>Translate (Transform)</node> node (again, not the vector version!). and attach that to the <node>UniformScale</node>'s input</li>    </ol>  </p><p>  Ok before going any further. Take some time to figure out what's happening. This are some very common VVVV fundamentals here which are worth understanding (Transforms, Layer, Texture, Maths).  </p><p>    Notice how everthing is wired up for 1 object. There's 1 aspect ratio correcting scale, 1 uniform scale, 1 texture, 1 quad.  </p><p>    Now let's step it up! Create a <node>LinearSpread</node> node above the <node>Translate</node> and attach the <pin>Output</pin> to <node>Translate</node>'s <pin>X</pin>input. Now check the top right input pin of <node>LinearSpread</node>, <pin>Spread Count</pin>. Let's increase this value.  </p><p>    As you see you get lots of circles renderered to the screen. Check the <pin>Output</pin> of <node>LinearSpread</node> by rolling your mouse over the output (you dont need to click). It might look something like this:   </p><p>    <b>Output: (3) -0.3333~</b>  </p><p>    This means there are 3 slices in the spread, and the first slice has a Value of approximately -0.3333 (the <b>~</b> denotes approximate).</p>
<h2>4 - Olympics 2012?</h2>
<p>  Ok. Let's make a copy.  <ol>  <li>Select that section of the patch we just made.</li>  <li>Press <key>Ctrl</key>+<key>D</key> to duplicate. Dont press anything else.</li>  <li>The bits you've duplicated are all mixed up with the old bits, but your new bits are all selected.</li>  <li>Use the <key>Down</key> key on your keyboard to move the nodes down within the patch. To do this quicker, use <key>Shift</key>+<key>Down</key>. Do this until you've moved the new nodes into a clear section of the patch</li>  </ol>  </p><p>    Let's get rid of the background. Delete <node>RetroColors</node> by clicking <img src="html_resources/click.png"/><img src="html_resources/lmb.png"/> on it and then pressing <key>Delete</key>. Right click <img src="html_resources/click.png"/><img src="html_resources/rmb.png"/> on the <pin>Background Color</pin> pin to reset it to <b>black</b>.  </p><p>    Let's make the rings bigger. Set the <node>UniformSpread</node> to <b>0.4</b>. This is a quick way of saying 'set the parameter of UniformSpread (in this case <pin>XYZ</pin>)) to value <b>0.4</b>'.  </p><p>    Create a new <node>LinearSpread</node> and connect it to <node>Translate</node>'s <pin>Y</pin> input. Set the <pin>Spread Count<pin> of the 2 <node>LinearSpread</node>'s to <b>5</b> and <b>2</b> respectively.  </p><p>    Adjust the <b>Width</b> pins of the <node>LinearSpread</node>'s until you get the olympic rings.  </p><p>    For good measure, add some colour to the rings by either using a <node>RetroColors</node> with an <node>I (Spreads)</node> on the <pin>Index</pin pin, or a <node>HSL (Color Join)</node> with a <node>LinearSpread</node> on the <pin>Hue</pin> input pin. Also set the <pin>Draw Mode</pin> of the <node>Blend</node> node to <b>ColorAsAlphaBlend</b>.</p>
<h2>4 - Tidying the blend mode</h2>
<p>  If we have too many circles, they will start to overlap. Since the textures have an opaque black background, they will interfere with each other. We can see that the circles are opaque by changing the background colour of the <node>Renderer</node>.  </p><p>    To change the background colour of the <node>Renderer</node>, create a <node>RetroColors (Color)</node> and connect its <pin>Output</pin> to  the <pin>Background Color</pin> input pin on the <node>Renderer</node>. Select different colours by changing the <pin>Index</pin> input of <node>RetroColors</node> and/or changing to a different games console colourset using the <pin>Mode</pin> pin.  </p><p>    On the right hand input of <node>Blend</node> we see <  That was fun, but anyway, we can definitely see that the background of the quads are black. Let's change the <concept>Blend Mode</concept> of the quads, (Photoshop users will be familiar with this idea).  </p><p>    Create a <node>Blend (EX9.RenderState)</node> above <node>Quad</node> and attach the output of <node>Blend</node> to the <pin>Render State</pin> input of <node>Quad</node>. Set the <pin>Draw Mode</pin> of <node>Blend</node> to <b>Add</b>.  </p><p>    Now when the quads are drawn, their colour is 'added' to whatever is  behind them, i.e. since black is <b>0</b> and <b>a + 0 = a</b>, black has no effect when the <pin>Draw Mode</pin> is set to <b>Add</b>.</p>
</body>
</html>
